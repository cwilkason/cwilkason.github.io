<!DOCTYPE html>

<html>
	<head>
		<title>Macha Malaria Transmission</title>
		<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no'>

		<!-- Load leaflet from CDN -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"/>
		<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js"></script>
		<!-- Load Esri Leaflet from CDN -->
		<script src="https://unpkg.com/esri-leaflet@2.0.8"></script>
		<style>
   			body { margin:0; padding:0; width:0; height:0; }
			#map { position: absolute; height: 500px; width: 700px; }
		</style>
	</head>

<body>
	<nav>
		<ul>
			<li><a href="/">Home</a></li>
	        	<li><a href="/about">About</a></li>
    		</ul>
	</nav>
	  	<div class="container">
		<div class="blurb">

        		<h1>Malaria Transmission in Macha</h1>
			<p>This website will house malaria research. Read more about the project here.</p>

			</div>
	</div>
	
	<style>
		#basemaps-wrapper {
			position: absolute;
			top: 5px;
			right: 5px;
			background: white;
			padding: 5px;
		}
		#basemaps {
			margin-bottom: 5px;
		}
	</style>
	
	<div id="map"></div>
	<div id="basemaps-wrapper" class="leaflet-bar">	
		<select name="basemaps" id="basemaps" onChange="changeBasemap(basemaps)">	
			<option value="Topographic">Topographic</option>
   	 		<option value="Streets">Streets</option>
   			 <option value="NationalGeographic">National Geographic</option>
   			 <option value="Oceans">Oceans</option>
   			 <option value="Gray">Gray</option>
   			 <option value="DarkGray">Dark Gray</option>
    			<option value="Imagery">Imagery</option>
    			<option value="ShadedRelief">Shaded Relief</option>
 		 </select>	
	</div>
	
	<script>
		// initialize the map
		var map = L.map('map').setView([-16.43, 26.78], 10);
			// load a tile layer
		var layer = L.esri.basemapLayer('Topographic').addTo(map);
		var layerLabels;
		
		function setBasemap(basemap) {
			if (layer) {
				map.removeLayer(layer);
			}
			
			layer = L.esri.basemapLaer(basemap);
			
			map.addLayer(layer);

    			if (layerLabels) {
     				map.removeLayer(layerLabels);
    					}

    			if (basemap === 'ShadedRelief'
    			 || basemap === 'Oceans'
    			 || basemap === 'Gray'
    			 || basemap === 'DarkGray'
    			 || basemap === 'Imagery'
    			 || basemap === 'Terrain'
  			 ) {
     			 layerLabels = L.esri.basemapLayer(basemap + 'Labels');
    			  map.addLayer(layerLabels);
    			}
 		 }
		function changeBasemap(basemaps) {
			var basemap = basemaps.value;
			setBasemap(basemap);
		}
		</script>
</body>
</html>
